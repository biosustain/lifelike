http:
  routers:
    dashboard:
      rule: "Host(`azure.lifelike.bio`)"
      service: api@internal
      middlewares:
        - admin-auth
      tls:
        certResolver: "le"
        domains:
          - main: "azure.lifelike.bio"
    lifelike-qa:
      entryPoints:
        - websecure
      rule: "Host(`azureqa.lifelike.bio`)"
      service: lifelike-qa-service
      tls:
        certResolver: "le"
        domains:
          - main: "azureqa.lifelike.bio"
    lifelike-staging:
      entryPoints:
        - websecure
      rule: "Host(`azurestaging.lifelike.bio`)"
      service: lifelike-staging-service
      tls:
        certResolver: "le"
        domains:
          - main: "azurestaging.lifelike.bio"
    lifelike-prod:
      entryPoints:
        - websecure
      rule: "Host(`azureprod.lifelike.bio`)"
      service: lifelike-prod-service
      tls:
        certResolver: "le"
        domains:
          - main: "azureprod.lifelike.bio"

  services:
    lifelike-qa-service:
      loadBalancer:
        servers:
          - url: "http://10.0.100.5"
  services:
    lifelike-staging-service:
      loadBalancer:
        servers:
          - url: "http://10.0.100.7"
  services:
    lifelike-prod-service:
      loadBalancer:
        servers:
          - url: "http://10.0.100.8"


  middlewares:
    admin-auth:
      basicAuth:
        users:
          - "{{ traefik_credentials }}"
