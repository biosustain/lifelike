<table class="table m-0">
  <colgroup>
    <col>
    <col style="width: 1%">
  </colgroup>
  <thead>
  <tr>
    <th>Name</th>
    <th class="text-right">Permissions</th>
  </tr>
  </thead>
  <tbody>
  <tr *ngFor="let collaborator of collaborators">
    <td class="align-middle">
      <app-user [user]="collaborator.user"></app-user>
    </td>
    <td class="align-middle text-nowrap">
      <div class="d-flex align-items-center justify-content-end">
        <div ngbDropdown class="d-inline-block ml-1" container="body"
             placement="bottom-right top-right">
          <a href="#" (click)="$event.preventDefault()" ngbDropdownToggle
             class="d-inline-block my-2">
            {{ collaborator.roleDescription }}
          </a>
          <div ngbDropdownMenu>
            <button *ngIf="collaborator.roleName != 'project-read'"
                    ngbDropdownItem
                    (click)="changeCollaboratorRole(collaborator, 'project-read')">
              Can view
            </button>
            <button *ngIf="collaborator.roleName != 'project-write'"
                    ngbDropdownItem
                    (click)="changeCollaboratorRole(collaborator, 'project-write')">
              Can edit
            </button>
            <button *ngIf="collaborator.roleName != 'project-admin'"
                    ngbDropdownItem
                    (click)="changeCollaboratorRole(collaborator, 'project-admin')">
              Can edit and invite
            </button>
            <div class="dropdown-divider"></div>
            <button ngbDropdownItem (click)="removeCollaborator(collaborator)">
              Remove
            </button>
          </div>
        </div>
      </div>
    </td>
  </tr>
  </tbody>
</table>
