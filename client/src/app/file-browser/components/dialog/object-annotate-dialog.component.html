<form [formGroup]="form" (ngSubmit)="submit()">
  <app-modal-header (cancel)="cancel()">
    {{ title }}
  </app-modal-header>

  <app-modal-body>
    <app-form-row
      label="Organism"
      ngbTooltip="If you know the specific organism strain related to the paper, you may optionally search for it by name here."
    >
      <app-organism-autocomplete
        formId="organism"
        [organismTaxId]="form.get('organism').value"
        (organismPicked)="organismChanged($event)"
      ></app-organism-autocomplete>
    </app-form-row>

    <app-form-row>
      <ngb-accordion>
        <ngb-panel title="Annotation Configurations">
          <ng-template ngbPanelContent>
            <app-annotation-config-table
              [headers]="annotationMethodChoices"
              [models]="annotationModels"
              [form]="form.get('annotationConfigs')"></app-annotation-config-table>
          </ng-template>
        </ngb-panel>
      </ngb-accordion>
    </app-form-row>
  </app-modal-body>

  <app-modal-footer>
    <button type="button" class="btn btn-secondary mr-2" (click)="cancel()">Cancel</button>
    <button type="submit" class="btn btn-primary">Annotate</button>
  </app-modal-footer>
</form>
