<form [formGroup]="form" (ngSubmit)="submit()">
  <app-modal-header (cancel)="cancel()">
    {{ title }}
  </app-modal-header>

  <app-modal-body>
    <app-form-input-feedback [control]="form" [formLevel]="true"></app-form-input-feedback>

    <app-form-row for="parent" [label]="parentLabel" [control]="form.get('parent')" *ngIf="promptParent">
      <div class="d-flex align-items-center text-truncate">
        <button type="button" class="btn btn-secondary mr-2" (click)="showParentDialog()">
          Browse...
        </button>
        <div class="text-truncate" *ngIf="form.get('parent').value != null; else noParentChosen">
          <i class="fa fa-fw fa-folder text-icon"></i>
          {{ form.get('parent').value.effectiveName }}
        </div>
        <ng-template #noParentChosen>
        </ng-template>
      </div>
    </app-form-row>

    <app-form-row for="filename" label="Filename" [control]="form.get('filename')">
      <input type="text" formControlName="filename" id="filename" [appFormInput]="form.get('filename')"
             appAutoFocus [autoSelect]="true">
    </app-form-row>

    <app-form-row for="description" label="Description" [control]="form.get('description')">
      <textarea formControlName="description" id="description" [appFormInput]="form.get('description')"
                rows="10"></textarea>
    </app-form-row>

    <app-form-row [control]="form.get('public')" *ngIf="!object.isDirectory">
      <div class="custom-control custom-checkbox">
        <input type="checkbox" class="custom-control-input" id="public" formControlName="public">
        <label class="custom-control-label" for="public">Publicly share with the community</label>
      </div>
    </app-form-row>

  </app-modal-body>

  <app-modal-footer>
    <button type="button" class="btn btn-secondary mr-2" (click)="cancel()">Cancel</button>
    <button type="submit" class="btn btn-primary" [disabled]="form.invalid" >Save</button>
  </app-modal-footer>
</form>
