<div class="module" *ngIf="(enrichmentService.status$ | async) as status">
  <app-module-error *ngFor="let error of status.errors" [error]="error">
  </app-module-error>
  <app-module-progress *ngIf="status.running">
    Loading Statistical Enrichment... {{ status.retryInProgressShown ? 'Retrying...' : '' }}
  </app-module-progress>
  <ng-container *ngIf="status.loaded">
    <app-module-header *ngIf="object$ | async as object"
                       [object]="object"
                       [titleTemplate]="tabTitle"
                       [showObjectMenu]="false"
    >
      <ng-template #tabTitle> {{object.filename}} - Statistical Enrichment</ng-template>
      <!--      <div ngbDropdown class="d-inline-block"-->
      <!--           *ngIf="contextsController$ | async as contextsController">-->
      <!--        <button class="btn btn-primary" ngbDropdownToggle>-->
      <!--          Context: {{ contextsController.current$ | async }}-->
      <!--        </button>-->
      <!--        <div ngbDropdownMenu>-->
      <!--          <button ngbDropdownItem-->
      <!--                  *ngFor="let context of contextsController.entities">{{ context }}</button>-->
      <!--        </div>-->
      <!--      </div>-->
    </app-module-header>
    <as-split unit="pixel"
              direction="horizontal"
              [gutterSize]="2">
      <as-split-area [order]="0">
        <div class="module-body flex-fill overflow-auto h-100">
          <div class="space-cards">
            <app-group
              *ngFor="let d of data$ | async | keyvalue: originalOrder; let i = index"
              [title]="d.key"
              [data]="d.value"
            >
            </app-group>
            <div class="card">
              <div class="card-header">Significance legend
              </div>
              <dl class="card-body legend">
                <dt>' '</dt>
                <dd><i>q-value</i> <= 1</dd>
                <dt>.</dt>
                <dd><i>q-value</i> <= 0.1</dd>
                <dt>*</dt>
                <dd><i>q-value</i> <= 0.05</dd>
                <dt>**</dt>
                <dd><i>q-value</i> <= 0.01</dd>
                <dt>***</dt>
                <dd><i>q-value</i> <= 0.001</dd>
              </dl>
            </div>
          </div>
        </div>
      </as-split-area>
      <as-split-area size="256" [order]="1">
        <app-enrichment-explanation-panel class="d-block module-body flex-fill overflow-auto h-100">
        </app-enrichment-explanation-panel>
      </as-split-area>
    </as-split>
  </ng-container>
</div>
