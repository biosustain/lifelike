<div id="association-snippet-container" *ngIf="snippets.length > 0">
  <mat-expansion-panel class="association-snippet-panel" *ngFor="let snippet of snippets">
    <mat-expansion-panel-header [collapsedHeight]="'100px'" [expandedHeight]="'80px'">
      <mat-panel-title
        class="association-snippet-title">
        <strong>Name:&nbsp;</strong> {{ snippet.filename  | truncate:['240'] }}
      </mat-panel-title>
      <mat-panel-description class="association-snippet-pub-data">
        <i><a href="mailto:{{snippet.email}}">{{ snippet.email }}</a> <br/>
          {{ snippet.uploaded_date | date: 'fullDate'}}</i>
      </mat-panel-description>
    </mat-expansion-panel-header>
    <h3>Description</h3>
    <p style="font-style: italic">{{snippet.description}}</p>
    <h3>Snippets found</h3>
    <div fxLayout="column" fxLayoutAlign="space-between start">
      <div>
        <p [innerHTML]="snippet.preview_text"></p>
      </div>
      <div fxLayout="row" fxLayoutAlign="space-between center">
        <div
          *ngIf="snippet.external_url"
          fxLayout="row"
          fxLayoutAlign="space-between center">
          <a
            class="doi-link"
            [href]="snippet.external_url"
            target="_blank"> Origin</a>
          <mat-icon>launch</mat-icon>
        </div>
        <div
          *ngIf="snippet.doi"
          fxLayout="row"
          fxLayoutAlign="space-between center">
          <a
            class="doi-link"
            [href]="snippet.doi"
            target="_blank"> DOI</a>
          <mat-icon>launch</mat-icon>
        </div>
        <div
          fxLayout="row"
          fxLayoutAlign="space-between center">
          <a
            class="doi-link"
            routerLink="/pdf-viewer/{{snippet.file_id}}"
            target="_blank"> Internal Link</a>
          <mat-icon>launch</mat-icon>
        </div>
      </div>
    </div>
  </mat-expansion-panel>
</div>
