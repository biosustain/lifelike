.ng2-pdf-viewer-container {
  height: 100%;
  overflow: auto;

  position: absolute;
  width: 100%;
}

:host {
  &.selecting {
    background-color: #0f227d;

    ::ng-deep app-annotation-layer {
      pointer-events: none;
    }
  }

  ::ng-deep {
    background-color: #4caf50;

    .textLayer {
      bottom: 0;
      left: 0;
      line-height: 1;
      opacity: 1;
      overflow: hidden;
      position: absolute;
      right: 0;
      top: 0;

      > span,
      .markedContent > span {
        color: transparent;
        cursor: text;
        position: absolute;
        transform-origin: 0 0;
        white-space: pre;
      }

      .selection {
        color: transparent;

        > * {
          //for debugging
          //background: rgba(126, 0, 0, 0.3);
          cursor: grab;
          padding: 0 !important;
          position: absolute;
          transform-origin: 0 0;
          white-space: pre;
        }

        &.dragged > span {
          color: black;
        }
      }

      &.dragged > span {
        color: black;
      }

      .markedContent {
        top: 0;
      }

      .highlight {
        background-color: rgba(181, 228, 12, 0.3);
        border-radius: 4px;
        margin: -1px;
        padding: 1px;

        &.begin {
          border-radius: 4px 0 0 4px;
        }

        &.end {
          border-radius: 0 4px 4px 0;
        }

        &.middle {
          border-radius: 0;
        }

        &.selected {
          border: 2px solid red;
        }
      }

      ::-moz-selection {
        background: rgba(255, 255, 51, 0.3);
      }

      ::selection {
        background: rgba(255, 255, 51, 0.3);
      }

      .endOfContent {
        bottom: 0;
        cursor: default;
        display: block;
        left: 0;
        position: absolute;
        right: 0;
        top: 100%;
        -moz-user-select: none;
        -ms-user-select: none;
        -webkit-user-select: none;
        user-select: none;
        z-index: -1;

        &.active {
          top: 0;
        }
      }

      br {
        user-select: none;
      }
    }

    .annotationLayer {
      section {
        position: absolute;
      }

      .linkAnnotation > a,
      .buttonWidgetAnnotation.pushButton > a {
        font-size: 1em;
        height: 100%;
        left: 0;
        position: absolute;
        top: 0;
        width: 100%;
      }

      .linkAnnotation > a:hover,
      .buttonWidgetAnnotation.pushButton > a:hover {
        background: #ff0;
        box-shadow: 0 2px 10px #ff0;
        opacity: 0.2;
      }

      .textAnnotation img {
        cursor: pointer;
        position: absolute;
      }

      .textWidgetAnnotation {
        input,
        textarea {
          background-color: rgba(0, 54, 255, 0.13);
          border: 1px solid transparent;
          box-sizing: border-box;
          font-size: 9px;
          height: 100%;
          margin: 0;
          padding: 0 3px;
          vertical-align: top;
          width: 100%;
        }
      }

      .choiceWidgetAnnotation select {
        background-color: rgba(0, 54, 255, 0.13);
        border: 1px solid transparent;
        box-sizing: border-box;
        font-size: 9px;
        height: 100%;
        margin: 0;
        padding: 0 3px;
        vertical-align: top;
        width: 100%;
      }

      .buttonWidgetAnnotation {
        &.checkBox input,
        &.radioButton input {
          background-color: rgba(0, 54, 255, 0.13);
          border: 1px solid transparent;
          box-sizing: border-box;
          font-size: 9px;
          height: 100%;
          margin: 0;
          padding: 0 3px;
          vertical-align: top;
          width: 100%;
        }
      }

      .choiceWidgetAnnotation select option {
        padding: 0;
      }

      .buttonWidgetAnnotation.radioButton input {
        border-radius: 50%;
      }

      .textWidgetAnnotation {
        textarea {
          font: message-box;
          font-size: 9px;
          resize: none;
        }

        input[disabled],
        textarea[disabled] {
          background: none;
          border: 1px solid transparent;
          cursor: not-allowed;
        }
      }

      .choiceWidgetAnnotation select[disabled] {
        background: none;
        border: 1px solid transparent;
        cursor: not-allowed;
      }

      .buttonWidgetAnnotation {
        &.checkBox input[disabled],
        &.radioButton input[disabled] {
          background: none;
          border: 1px solid transparent;
          cursor: not-allowed;
        }
      }

      .textWidgetAnnotation {
        input:hover,
        textarea:hover {
          border: 1px solid #000;
        }
      }

      .choiceWidgetAnnotation select:hover {
        border: 1px solid #000;
      }

      .buttonWidgetAnnotation {
        &.checkBox input:hover,
        &.radioButton input:hover {
          border: 1px solid #000;
        }
      }

      .textWidgetAnnotation {
        input:focus,
        textarea:focus {
          background: none;
          border: 1px solid transparent;
        }
      }

      .choiceWidgetAnnotation select:focus {
        background: none;
        border: 1px solid transparent;
      }

      .buttonWidgetAnnotation {
        &.checkBox input:checked {
          &:before,
          &:after {
            background-color: #000;
            content: "";
            display: block;
            position: absolute;
          }
        }

        &.radioButton input:checked:before {
          background-color: #000;
          content: "";
          display: block;
          position: absolute;
        }

        &.checkBox input:checked {
          &:before,
          &:after {
            height: 80%;
            left: 45%;
            width: 1px;
          }

          &:before {
            -webkit-transform: rotate(45deg);
            transform: rotate(45deg);
          }

          &:after {
            -webkit-transform: rotate(-45deg);
            transform: rotate(-45deg);
          }
        }

        &.radioButton input:checked:before {
          border-radius: 50%;
          height: 50%;
          left: 30%;
          top: 20%;
          width: 50%;
        }
      }

      .textWidgetAnnotation input.comb {
        font-family: monospace;
        padding-left: 2px;
        padding-right: 0;

        &:focus {
          /*
         * Letter spacing is placed on the right side of each character. Hence, the
         * letter spacing of the last character may be placed outside the visible
         * area, causing horizontal scrolling. We avoid this by extending the width
         * when the element has focus and revert this when it loses focus.
         */
          width: 115%;
        }
      }

      .buttonWidgetAnnotation {
        &.checkBox input,
        &.radioButton input {
          -moz-appearance: none;
          -webkit-appearance: none;
          appearance: none;
          padding: 0;
        }
      }

      .popupWrapper {
        position: absolute;
        width: 20em;
      }

      .popup {
        background-color: #ffff99;
        border-radius: 2px;
        box-shadow: 0 2px 5px #333;
        cursor: pointer;
        font: message-box;
        margin-left: 5px;
        max-width: 20em;
        padding: 0.6em;
        position: absolute;
        word-wrap: break-word;
        z-index: 200;

        h1 {
          border-bottom: 1px solid #000000;
          font-size: 1em;
          margin: 0;
          padding-bottom: 0.2em;
        }

        p {
          margin: 0;
          padding-top: 0.2em;
        }
      }

      .highlightAnnotation,
      .underlineAnnotation,
      .squigglyAnnotation,
      .strikeoutAnnotation,
      .lineAnnotation svg line,
      .squareAnnotation svg rect,
      .circleAnnotation svg ellipse,
      .polylineAnnotation svg polyline,
      .polygonAnnotation svg polygon,
      .inkAnnotation svg polyline,
      .stampAnnotation,
      .fileAttachmentAnnotation {
        cursor: pointer;
      }
    }

    .pdfViewer {
      padding-bottom: 10px;

      .canvasWrapper {
        overflow: hidden;
      }

      .page {
        background-clip: content-box;
        background-color: white;
        border: 9px solid rgba(0, 0, 0, 0.01);
        -o-border-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAQAAADYWf5HAAAA6UlEQVR4Xl2Pi2rEMAwE16fm1f7/r14v7w4rI0IzLAF7hLxNevBSEMEF5+OilNCsRd8ZMyn+a4NmsOT8WJw1lFbSYgGFzF2bLFoLjTClWjKKGRWpDYAGXUnZ4uhbBUzF3Oe/GG/ue2fn4GgsyXhNgysV2JnrhKEMg4fEZcALmiKbNhBBRFpSyDOj1G4QOVly6O1FV54ZZq8OVygrciDt6JazRgi1ljTPH0gbrPmHPXAbCiDd4GawIjip1TPh9tt2sz24qaCjr/jAb/GBFTbq9KZ7Ke/Cqt8nayUikZKsWZK7Fe6bg5dOUt8fZHWG2BHc+6EAAAAASUVORK5CYII=")
          9 9 repeat;
        border-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAQAAADYWf5HAAAA6UlEQVR4Xl2Pi2rEMAwE16fm1f7/r14v7w4rI0IzLAF7hLxNevBSEMEF5+OilNCsRd8ZMyn+a4NmsOT8WJw1lFbSYgGFzF2bLFoLjTClWjKKGRWpDYAGXUnZ4uhbBUzF3Oe/GG/ue2fn4GgsyXhNgysV2JnrhKEMg4fEZcALmiKbNhBBRFpSyDOj1G4QOVly6O1FV54ZZq8OVygrciDt6JazRgi1ljTPH0gbrPmHPXAbCiDd4GawIjip1TPh9tt2sz24qaCjr/jAb/GBFTbq9KZ7Ke/Cqt8nayUikZKsWZK7Fe6bg5dOUt8fZHWG2BHc+6EAAAAASUVORK5CYII=")
          9 9 repeat;
        direction: ltr;
        // https://stackoverflow.com/questions/21025212/border-image-not-showing-in-safari
        // "transparent" makes the border not show up in Safari. But adding a light transparent color did
        // rgba(0,0,0,0.01). But there needs to be an alpha value larger than 0.
        height: 1056px;
        margin: 1px auto -8px auto;
        overflow: visible;
        position: relative;
        width: 816px;
      }

      &.removePageBorders .page {
        border: none;
        margin: 0 auto 10px auto;
      }

      &.removePageBorders {
        padding-bottom: 0;
      }

      &.singlePageView {
        display: inline-block;

        .page {
          border: none;
          margin: 0;
        }
      }

      &.scrollHorizontal,
      &.scrollWrapped {
        margin-left: 3.5px;
        margin-right: 3.5px;
        text-align: center;
      }
    }

    .spread {
      margin-left: 3.5px;
      margin-right: 3.5px;
      text-align: center;
    }

    .pdfViewer.scrollHorizontal,
    .spread {
      white-space: nowrap;
    }

    .pdfViewer {
      &.removePageBorders,
      &.scrollHorizontal .spread,
      &.scrollWrapped .spread {
        margin-left: 0;
        margin-right: 0;
      }
    }

    .spread .page {
      display: inline-block;
      vertical-align: middle;
    }

    .pdfViewer {
      &.scrollHorizontal .page,
      &.scrollWrapped .page,
      &.scrollHorizontal .spread,
      &.scrollWrapped .spread {
        display: inline-block;
        vertical-align: middle;
      }
    }

    .spread .page {
      margin-left: -3.5px;
      margin-right: -3.5px;
    }

    .pdfViewer {
      &.scrollHorizontal .page,
      &.scrollWrapped .page {
        margin-left: -3.5px;
        margin-right: -3.5px;
      }

      &.removePageBorders {
        .spread .page,
        &.scrollHorizontal .page,
        &.scrollWrapped .page {
          margin-left: 5px;
          margin-right: 5px;
        }
      }

      .page {
        canvas {
          display: block;
          margin: 0;

          &[hidden] {
            display: none;
          }
        }

        .loadingIcon {
          background: url("data:image/gif;base64,R0lGODlhGAAYAPQAAP///wAAAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJBwAAACwAAAAAGAAYAAAFriAgjiQAQWVaDgr5POSgkoTDjFE0NoQ8iw8HQZQTDQjDn4jhSABhAAOhoTqSDg7qSUQwxEaEwwFhXHhHgzOA1xshxAnfTzotGRaHglJqkJcaVEqCgyoCBQkJBQKDDXQGDYaIioyOgYSXA36XIgYMBWRzXZoKBQUMmil0lgalLSIClgBpO0g+s26nUWddXyoEDIsACq5SsTMMDIECwUdJPw0Mzsu0qHYkw72bBmozIQAh+QQJBwAAACwAAAAAGAAYAAAFsCAgjiTAMGVaDgR5HKQwqKNxIKPjjFCk0KNXC6ATKSI7oAhxWIhezwhENTCQEoeGCdWIPEgzESGxEIgGBWstEW4QCGGAIJEoxGmGt5ZkgCRQQHkGd2CESoeIIwoMBQUMP4cNeQQGDYuNj4iSb5WJnmeGng0CDGaBlIQEJziHk3sABidDAHBgagButSKvAAoyuHuUYHgCkAZqebw0AgLBQyyzNKO3byNuoSS8x8OfwIchACH5BAkHAAAALAAAAAAYABgAAAW4ICCOJIAgZVoOBJkkpDKoo5EI43GMjNPSokXCINKJCI4HcCRIQEQvqIOhGhBHhUTDhGo4diOZyFAoKEQDxra2mAEgjghOpCgz3LTBIxJ5kgwMBShACREHZ1V4Kg1rS44pBAgMDAg/Sw0GBAQGDZGTlY+YmpyPpSQDiqYiDQoCliqZBqkGAgKIS5kEjQ21VwCyp76dBHiNvz+MR74AqSOdVwbQuo+abppo10ssjdkAnc0rf8vgl8YqIQAh+QQJBwAAACwAAAAAGAAYAAAFrCAgjiQgCGVaDgZZFCQxqKNRKGOSjMjR0qLXTyciHA7AkaLACMIAiwOC1iAxCrMToHHYjWQiA4NBEA0Q1RpWxHg4cMXxNDk4OBxNUkPAQAEXDgllKgMzQA1pSYopBgonCj9JEA8REQ8QjY+RQJOVl4ugoYssBJuMpYYjDQSliwasiQOwNakALKqsqbWvIohFm7V6rQAGP6+JQLlFg7KDQLKJrLjBKbvAor3IKiEAIfkECQcAAAAsAAAAABgAGAAABbUgII4koChlmhokw5DEoI4NQ4xFMQoJO4uuhignMiQWvxGBIQC+AJBEUyUcIRiyE6CR0CllW4HABxBURTUw4nC4FcWo5CDBRpQaCoF7VjgsyCUDYDMNZ0mHdwYEBAaGMwwHDg4HDA2KjI4qkJKUiJ6faJkiA4qAKQkRB3E0i6YpAw8RERAjA4tnBoMApCMQDhFTuySKoSKMJAq6rD4GzASiJYtgi6PUcs9Kew0xh7rNJMqIhYchACH5BAkHAAAALAAAAAAYABgAAAW0ICCOJEAQZZo2JIKQxqCOjWCMDDMqxT2LAgELkBMZCoXfyCBQiFwiRsGpku0EshNgUNAtrYPT0GQVNRBWwSKBMp98P24iISgNDAS4ipGA6JUpA2WAhDR4eWM/CAkHBwkIDYcGiTOLjY+FmZkNlCN3eUoLDmwlDW+AAwcODl5bYl8wCVYMDw5UWzBtnAANEQ8kBIM0oAAGPgcREIQnVloAChEOqARjzgAQEbczg8YkWJq8nSUhACH5BAkHAAAALAAAAAAYABgAAAWtICCOJGAYZZoOpKKQqDoORDMKwkgwtiwSBBYAJ2owGL5RgxBziQQMgkwoMkhNqAEDARPSaiMDFdDIiRSFQowMXE8Z6RdpYHWnEAWGPVkajPmARVZMPUkCBQkJBQINgwaFPoeJi4GVlQ2Qc3VJBQcLV0ptfAMJBwdcIl+FYjALQgimoGNWIhAQZA4HXSpLMQ8PIgkOSHxAQhERPw7ASTSFyCMMDqBTJL8tf3y2fCEAIfkECQcAAAAsAAAAABgAGAAABa8gII4k0DRlmg6kYZCoOg5EDBDEaAi2jLO3nEkgkMEIL4BLpBAkVy3hCTAQKGAznM0AFNFGBAbj2cA9jQixcGZAGgECBu/9HnTp+FGjjezJFAwFBQwKe2Z+KoCChHmNjVMqA21nKQwJEJRlbnUFCQlFXlpeCWcGBUACCwlrdw8RKGImBwktdyMQEQciB7oACwcIeA4RVwAODiIGvHQKERAjxyMIB5QlVSTLYLZ0sW8hACH5BAkHAAAALAAAAAAYABgAAAW0ICCOJNA0ZZoOpGGQrDoOBCoSxNgQsQzgMZyIlvOJdi+AS2SoyXrK4umWPM5wNiV0UDUIBNkdoepTfMkA7thIECiyRtUAGq8fm2O4jIBgMBA1eAZ6Knx+gHaJR4QwdCMKBxEJRggFDGgQEREPjjAMBQUKIwIRDhBDC2QNDDEKoEkDoiMHDigICGkJBS2dDA6TAAnAEAkCdQ8ORQcHTAkLcQQODLPMIgIJaCWxJMIkPIoAt3EhACH5BAkHAAAALAAAAAAYABgAAAWtICCOJNA0ZZoOpGGQrDoOBCoSxNgQsQzgMZyIlvOJdi+AS2SoyXrK4umWHM5wNiV0UN3xdLiqr+mENcWpM9TIbrsBkEck8oC0DQqBQGGIz+t3eXtob0ZTPgNrIwQJDgtGAgwCWSIMDg4HiiUIDAxFAAoODwxDBWINCEGdSTQkCQcoegADBaQ6MggHjwAFBZUFCm0HB0kJCUy9bAYHCCPGIwqmRq0jySMGmj6yRiEAIfkECQcAAAAsAAAAABgAGAAABbIgII4k0DRlmg6kYZCsOg4EKhLE2BCxDOAxnIiW84l2L4BLZKipBopW8XRLDkeCiAMyMvQAA+uON4JEIo+vqukkKQ6RhLHplVGN+LyKcXA4Dgx5DWwGDXx+gIKENnqNdzIDaiMECwcFRgQCCowiCAcHCZIlCgICVgSfCEMMnA0CXaU2YSQFoQAKUQMMqjoyAglcAAyBAAIMRUYLCUkFlybDeAYJryLNk6xGNCTQXY0juHghACH5BAkHAAAALAAAAAAYABgAAAWzICCOJNA0ZVoOAmkY5KCSSgSNBDE2hDyLjohClBMNij8RJHIQvZwEVOpIekRQJyJs5AMoHA+GMbE1lnm9EcPhOHRnhpwUl3AsknHDm5RN+v8qCAkHBwkIfw1xBAYNgoSGiIqMgJQifZUjBhAJYj95ewIJCQV7KYpzBAkLLQADCHOtOpY5PgNlAAykAEUsQ1wzCgWdCIdeArczBQVbDJ0NAqyeBb64nQAGArBTt8R8mLuyPyEAOwAAAAAAAAAAAA==")
            center no-repeat;
          bottom: 0;
          display: block;
          left: 0;
          position: absolute;
          right: 0;
          top: 0;
        }
      }
    }

    .pdfPresentationMode {
      .pdfViewer {
        margin-left: 0;
        margin-right: 0;

        .page,
        .spread {
          display: block;
        }

        .page,
        &.removePageBorders .page {
          margin-left: auto;
          margin-right: auto;
        }
      }

      &:-ms-fullscreen .pdfViewer .page {
        margin-bottom: 100% !important;
      }

      &:-webkit-full-screen .pdfViewer .page,
      &:-moz-full-screen .pdfViewer .page,
      &:fullscreen .pdfViewer .page {
        border: 0;
        margin-bottom: 100%;
      }
    }
  }
}
