<ngb-accordion *ngFor="let snippet of results.hits" [destroyOnHide]='true'>
  <ngb-panel class="snippet-card">
    <ng-template let-opened="opened" ngbPanelHeader>
      <div><i class="fa fa-sticky-note text-icon"></i> Snippet</div>
      <div class="d-flex align-items-center justify-content-between snippet-title">
        <span class="snippet-panel-header">
          {{ snippet.filename }}
        </span>
        <button class="{{opened ?
                'btn btn-default panel-button open-panel' : 'btn btn-default panel-button'}}"
                ngbPanelToggle
                type="button">
          <span aria-hidden="true" class="{{ opened ? 'fas fa-angle-down' : 'fas fa-angle-up' }}"></span>
        </button>
      </div>
      <h6 class="font-italic font-bold description-title">- Author and Uploaded Date</h6>
      <a class="uploaded-and-date" href="mailto:{{snippet.email}}">{{snippet.email}}</a><br/>
      <p class="uploaded-and-date">({{ snippet.uploaded_date | date: 'fullDate'}})</p>
      <h6 class="font-italic font-bold description-title">- Description</h6>
      <span class="description d-inline-block">{{ snippet.description }}</span>
    </ng-template>
    <ng-template ngbPanelContent>
      <div class="d-flex flex-column justify-content-between align-items-start">
        <p [innerHTML]="snippet.preview_text" class="snippet-paragraph"></p>
      </div>
      <div class="d-flex align-items-center justify-content-end" style="margin-top: 20px">
        <a
          class="snippet-link"
          routerLink="/projects/{{snippet.project_directory}}/files/{{snippet.file_id}}"
          target="_blank"> Internal Link</a>
        <a
          *ngIf="snippet.doi"
          [href]="snippet.doi"
          class="snippet-link"
          target="_blank"> DOI Link</a>
        <a
          *ngIf="snippet.external_url"
          [href]="snippet.doi"
          class="snippet-link"
          target="_blank"> External Link</a>
      </div>
    </ng-template>
  </ngb-panel>
</ngb-accordion>
