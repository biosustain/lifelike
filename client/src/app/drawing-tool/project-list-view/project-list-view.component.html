<div id='map-channel' class='w-100' style='overflow-y: hidden;'>
  <!-- Map Lists -->
  <div
    id='map-list-container'
    class=''>
      <div id='map-list'>
        <h1>Maps</h1>
        <div 
          class='map shadow'
          *ngFor='let project of projects'
          (click)='pickProject(project)'>
          <h3>
            {{
              project.label | truncate:['40']
            }}
          </h3>
          <p class='author'>
            By Mustafa Khan 
          </p>
          <p class='date'>
            Modified {{project?.date_modified | friendlyDateStr}}
          </p> 
        </div>
      </div>
      <button 
        mat-fab
        color='primary'
        id='add-project'
        aria-label="Example icon-button with a heart icon"
        (click)='createProject()'>
        <mat-icon>add</mat-icon>
      </button>
  </div>
  <!-- Map Preview Panel -->
  <div
    id='map-preview'
    class=''>
    <div id='canvas-container'>
      <!-- Network Graph Canvas -->
      <div id='canvas'></div>
      <!-- Read Panel -->
      <div id='read-panel'>
        <h3>{{node?.label}}</h3>
        <p class='blue'>
          Type
        </p>
        <p>
          {{node?.group}}
        </p>
        <p class='blue'>
          Hyperlink
        </p>
        <p>
          {{node?.data?.hyperlink}}
        </p>
        <p class='blue'>Edges</p>
        <div *ngFor='let edge of node?.edges'>
          <p>
            To {{getNode(edge)}}
          </p>
          <p>
            Label {{edge?.label}}
          </p>
        </div>
      </div>
      <!-- Tool Panel -->
      <div id='tool-panel'>
        <mat-icon
          matTooltip="Fit Graph"
          matTooltipPosition="right"
          class='fit'
          (click)='fit()'>
          zoom_out_map
        </mat-icon>
        <mat-icon
          *ngIf='screenMode==="shrink"'
          matTooltip="Fit Graph"
          matTooltipPosition="right"
          class='Full Screen'
          (click)='toggle()'>
          fullscreen
        </mat-icon>
        <mat-icon
          *ngIf='screenMode==="grow"'
          matTooltip="Fit Graph"
          matTooltipPosition="right"
          class='Shrink'
          (click)='toggle()'>
          fullscreen_exit
        </mat-icon>
      </div>
    </div>
    <!-- Meta info about map -->
    <div id='map-meta-panel'>
      <div id='details'>
        <h2>{{selectedProject?.label}}</h2>
        <p class='author'>
          By Mustafa Khan
        </p>
        <p class='date'>
          Modified {{selectedProject?.date_modified | friendlyDateStr}}
        </p>
        <p class='description'>
          {{selectedProject?.description}}
        </p>
      </div>
      <div id='actions'>
        <button
          mat-raised-button
          color="primary"
          (click)='goToProject()'>
          EDIT
        </button>
        <button
          mat-raised-button
          color="accent">
          PUBLISH
        </button>
        <button
          mat-raised-button
          color="warn"
          (click)='deleteProject()'>
          DELETE
        </button>
      </div>
    </div>
  </div>
</div>
<!-- Context Menu -->
<ng-template #projectMenu let-project>
  <section 
    (contextmenu)="$event.preventDefault()"
    class="project-menu">
    <div (click)='copyProject(project)'>Make copy of</div>
    <div (click)="deleteProject(project)">Delete</div>
  </section>
</ng-template>