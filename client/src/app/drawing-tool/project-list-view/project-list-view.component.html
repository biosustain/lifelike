<div id='map-channel' class='w-100' style='overflow-y: hidden;'>
  <!-- Map Lists -->
  <div
    id='map-list-container'
    class=''>
    <app-map-list
      childMode='true'
      [projects]='projects'
      [publicProjects]='publicProjects'
      (projectAPICaller)='handleAPI($event)'>
    </app-map-list>
    <button 
      mat-fab
      color='primary'
      id='add-project'
      aria-label="Example icon-button with a heart icon"
      (click)='createProject()'>
      <mat-icon>add</mat-icon>
    </button>
  </div>  
  <!-- Map Preview Panel -->
  <div
    *ngIf='selectedProject else empty;'
    id='map-preview'
    class=''>
    <!-- Empty Graph -->
    <div 
      *ngIf='emptyGraph'
      id='empty-graph'>
      <p>Empty Graph</p>
    </div>
    <div 
      [ngClass]='{"dn": emptyGraph}'
      id='canvas-container'>
      <app-map-preview
        [project]='selectedProject'>
      </app-map-preview>
    </div>
    <!-- Meta info about map -->
    <div id='map-meta-panel'>
      <div id='details'>
        <h2>{{selectedProject?.label}}</h2>
        <p class='author'>
          By {{selectedProject?.author}}
        </p>
        <p class='date'>
          Modified {{selectedProject?.date_modified | friendlyDateStr}}
        </p>
        <p class='description'>
          {{selectedProject?.description}}
        </p>
      </div>
      <div id='actions'>
        <div *ngIf='isItMine'>
          <button
            mat-raised-button
            color="primary"
            (click)='goToProject()'>
            EDIT
          </button>
          <button
            mat-raised-button
            [color]="selectedProject?.public === false ? 'primary' : 'accent'"
            (click)='togglePublic()'>
            {{selectedProject?.public === false ? 'MAKE PUBLIC' : 'MAKE PRIVATE'}}
          </button>
          <button
            mat-raised-button
            color="warn"
            (click)='deleteProject()'>
            DELETE
          </button>
        </div>
        <div *ngIf='!isItMine'>
          <button
            mat-raised-button
            color="primary"
            (click)='copyProject()'>
            MAKE COPY OF
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Empty Scene -->
<ng-template #empty>
  <div id='map-preview' class='empty'>
    <p>Create or select a project</p>
  </div>
</ng-template>
