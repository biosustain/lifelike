<div class="form-group">
  <label for="label">
    Node Label:
  </label>
  <input [(ngModel)]="node.display_name" class="form-control" (change)="doSave()" id="label"
  maxlength="2000">
</div>

<div class="form-group">
  <label for="detail">Detail:</label>
  <textarea [(ngModel)]="node.data.detail" class="form-control" (change)="doSave()" id="detail"
            rows="5" maxlength="5000"></textarea>
</div>

<div class="form-group" *ngIf="mayShowDetailText()">
  <div class="custom-control custom-checkbox">
    <input class="custom-control-input" type="checkbox" id="show-detail" value="1"
           [(ngModel)]="node.style.showDetail" (change)="doSave()">
    <label class="custom-control-label" for="show-detail">
      Show detail text instead of the label
    </label>
  </div>
</div>

<div class="form-group d-flex align-items-center">
  <label for="type" class="my-0 mr-2" ngbTooltip="Node type">
    <i class="fa fa-fw fa-tag"></i>
  </label>
  <select [(ngModel)]="node.label" (change)="doSave()" class="custom-select" id="type">
    <option *ngFor="let choice of nodeTypeChoices" [value]="choice.label">
      {{choice.label | titlecase}}
    </option>
  </select>
</div>

<div class="form-group d-flex align-items-center">
  <label for="url" class="my-0 mr-2" ngbTooltip="Link">
    <i class="fa fa-fw fa-link"></i>
  </label>
  <input [(ngModel)]="node.data.hyperlink" class="form-control" (change)="doSave()" id="url">
  <button type="button" class="btn btn-secondary btn-sm ml-1" (click)="goToLink()"
          ngbTooltip="Open link">
    <i class="fa fa-external-link-alt"></i>
  </button>
</div>

<fieldset class="fieldset-properties mt-4">
  <legend>Label Style</legend>

  <div class="form-group d-flex align-items-center">
    <label for="font-size" class="my-0 mr-2" ngbTooltip="Font size">
      <i class="fa fa-fw fa-text-height"></i>
    </label>
    <input type="number" min="0.01" step="0.1" max="5"
           [(ngModel)]="node.style.fontSizeScale" class="form-control mr-1" (change)="doSave()" id="font-size"
           [style.width]="'5rem'">
  </div>

  <div class="form-group d-flex align-items-center">
    <label for="fill-color" class="my-0 mr-2" ngbTooltip="Text color">
      <i class="fa fa-fw fa-fill"></i>
    </label>
    <input type="color"
           [(ngModel)]="node.style.fillColor" class="form-control mr-1" (change)="doSave()" id="fill-color"
           [style.width]="'5rem'">
  </div>

</fieldset>

<fieldset class="fieldset-properties mt-4">
  <legend>Border Style</legend>

  <div class="form-group d-flex align-items-center">
    <label for="stroke-color" class="my-0 mr-2" ngbTooltip="Border color">
      <i class="fa fa-fw fa-fill"></i>
    </label>
    <input type="color"
           [(ngModel)]="node.style.strokeColor" class="form-control mr-1" (change)="doSave()" id="stroke-color"
           [style.width]="'5rem'">
  </div>

  <div class="form-group d-flex align-items-center">
    <label for="line-type" class="my-0 mr-2" ngbTooltip="Border line type">
      <i class="fa fa-fw fa-border-style"></i>
    </label>
    <select [(ngModel)]="node.style.lineType" (change)="doSave()" class="custom-select" id="line-type">
      <option *ngFor="let choice of lineTypeChoices" [value]="choice[0]">
        {{choice[1].name}}
      </option>
    </select>
  </div>

  <div class="form-group d-flex align-items-center">
    <label for="line-width-scale" class="my-0 mr-2" ngbTooltip="Border line thicknesslmfi">
      <i class="fa fa-fw fa-window-minimize"></i>
    </label>
    <input type="number" min="0.01" step="0.1" max="5"
           [(ngModel)]="node.style.lineWidthScale" class="form-control mr-1" (change)="doSave()" id="line-width-scale"
           [style.width]="'5rem'">
  </div>
</fieldset>

<div *ngIf="node.data.source" class="mb2">
  <button *ngIf="node.data.source" mat-stroked-button color="primary" (click)="goToSource()" class="w-100">
    Go to Source
  </button>
</div>

<button (click)="doDelete()" mat-stroked-button color="warn" class="w-100">
  Delete
</button>
