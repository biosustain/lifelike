<div class="d-flex flex-column position-relative h-100" *ngIf="(loadTask.status$ | async) as status">
  <app-module-progress *ngIf="status.running" class="position-absolute w-100 h-100 bg-white p-4"
                       style="z-index: 2">
    <div>Retrieving file data...</div>
  </app-module-progress>

  <app-module-error *ngIf="status.failedErrorShown" class="position-absolute w-100 h-100 bg-white p-4"
                    [error]="status.error" style="z-index: 2">
    <a appLink="/projects">Go to Projects <i class="fa fa-fw fa-arrow-right"></i></a>
  </app-module-error>

  <div *ngIf="status.resultsShown" class="position-absolute w-100 h-100 d-flex flex-column" style="z-index: 0">
    <div class="module" appContainerBreakpoints>
      <!-- Header -->
      <div class="module-header">
        <!-- Title bar -->
        <div class="module-titlebar">
          <h1 class="module-title">
            File Navigator -
            <a [appLink]="['/projects', projectName]" [newTab]="true">{{ projectName }}</a> /
            <a [appLink]="['/projects', projectName, 'files', fileId]" [newTab]="true">{{ fileName }}</a>
          </h1>
        </div>
      </div>

      <div class="flex-fill overflow-auto">
        <!-- Body -->
        <div class="module-body border-bottom">
          <app-associated-maps></app-associated-maps>
        </div>
        <div class="module-body" style="height: 100%">
          <app-word-cloud-file-navigator></app-word-cloud-file-navigator>
        </div>
        <div class="module-body border-top">
          <div class="module-section">
            <div class="module-section-header">
              <h2 class="module-section-header-title">Annotation History</h2>
            </div>

            <div class="module-section-body">
              <app-file-annotation-history [object]="object" [limit]="10"></app-file-annotation-history>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
