<div class="card m-auto" style="width: 500px">
  <div class="card-header">Login to Lifelike</div>
  <div class="card-body">
    <form (ngSubmit)="submit()" [formGroup]="form">
      <app-form-row [control]="form.get('email')" for="email" label="Email">
        <input
          [appFormInput]="form.get('email')"
          appAutoFocus
          formControlName="email"
          id="email"
          type="email"
        />
      </app-form-row>

      <app-password-input
        [formRef]="form"
        controlId="password"
        controlLabel="Password"
        controlName="password"
      ></app-password-input>

      <button class="btn btn-primary btn-block" type="submit">Login</button>
    </form>
    <button (click)="displayResetDialog()" class="btn btn-secondary btn-block mt-3">
      Reset password
    </button>

    <div
      *ngIf="errorMessage"
      class="alert alert-danger d-flex justify-content-center mt-3"
      role="alert"
    >
      <i class="fas fa-exclamation-triangle fa-2xl d-flex align-items-center mr-3"></i
      >{{ errorMessage }}
    </div>
  </div>
  <details *ngIf="buildInfo$ | async as buildInfo" class="card-footer small disabled">
    <summary><span>Lifelike version:</span> {{ buildInfo.appVersion || "Unknown" }}</summary>
    <div><span>Last updated:</span> {{ buildInfo.buildTimestamp || "Unknown" }}</div>
    <div><span>Build number:</span> {{ buildInfo.appBuildNumber || "Unknown" }}</div>
    <div><span>Build identifier:</span> {{ buildInfo.gitHash || "Unknown" }}</div>
  </details>

  <div *ngIf="unsupportedBrowser" class="alert alert-warning m-0">
    <p>
      You seem to be using a browser which might provide a diminished experience within Lifelike.
      For the best experience, please use
      <a href="https://www.google.com/chrome/" target="_blank">Google Chrome</a>.
    </p>
  </div>
</div>
