#!/bin/bash

echo "Waiting for Flask"

FLASK_STATUS="000"

until [ "$FLASK_STATUS" = "200" ]
do
    FLASK_STATUS=`curl -s -o /dev/null -I -w "%{http_code}" http://localhost:5000/`
    echo "Status of Flask: $FLASK_STATUS"
    DOCKER_LOGS=`docker logs appserver`
    echo "DOCKER: $DOCKER_LOGS"
    sleep 2
done
