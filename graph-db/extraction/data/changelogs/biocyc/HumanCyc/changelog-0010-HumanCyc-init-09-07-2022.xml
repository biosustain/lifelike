<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
  xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xmlns:pro="http://www.liquibase.org/xml/ns/pro"
  xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.8.xsd http://www.liquibase.org/xml/ns/pro http://www.liquibase.org/xml/ns/pro/liquibase-pro-3.8.xsd">

  <changeSet id="Create BioCyc constraints and indexes" author="dommas">
    <comment>Create constraints and indexes for BioCyc nodes, created on 09-07-2022</comment>
    <sql>
    CREATE CONSTRAINT constraint_db_BioCyc_eid IF NOT EXISTS ON (n:db_BioCyc) ASSERT n.eid IS UNIQUE;
CREATE INDEX index_db_BioCyc_biocyc_id IF NOT EXISTS FOR (n:db_BioCyc) ON (n.biocyc_id);
CREATE INDEX index_db_BioCyc_name IF NOT EXISTS FOR (n:db_BioCyc) ON (n.name);
CREATE INDEX index_db_HumanCyc_eid IF NOT EXISTS FOR (n:db_HumanCyc) ON (n.eid);
CREATE INDEX index_db_HumanCyc_biocyc_id IF NOT EXISTS FOR (n:db_HumanCyc) ON (n.biocyc_id);
CREATE INDEX index_db_HumanCyc_name IF NOT EXISTS FOR (n:db_HumanCyc) ON (n.name);
CREATE CONSTRAINT constraint_Synonym_name IF NOT EXISTS ON (n:Synonym) ASSERT n.name IS UNIQUE;
CREATE INDEX index_Synonym_lowercase_name IF NOT EXISTS FOR (n:Synonym) ON (n.lowercase_name);
CREATE INDEX index_Species_eid IF NOT EXISTS FOR (n:Species) ON (n.eid);
CREATE INDEX index_Species_biocyc_id IF NOT EXISTS FOR (n:Species) ON (n.biocyc_id);
CREATE INDEX index_Species_name IF NOT EXISTS FOR (n:Species) ON (n.name);
CREATE INDEX index_BioCycClass_eid IF NOT EXISTS FOR (n:BioCycClass) ON (n.eid);
CREATE INDEX index_BioCycClass_biocyc_id IF NOT EXISTS FOR (n:BioCycClass) ON (n.biocyc_id);
CREATE INDEX index_BioCycClass_name IF NOT EXISTS FOR (n:BioCycClass) ON (n.name);
CREATE INDEX index_Compound_eid IF NOT EXISTS FOR (n:Compound) ON (n.eid);
CREATE INDEX index_Compound_biocyc_id IF NOT EXISTS FOR (n:Compound) ON (n.biocyc_id);
CREATE INDEX index_Compound_name IF NOT EXISTS FOR (n:Compound) ON (n.name);
CREATE INDEX index_Gene_eid IF NOT EXISTS FOR (n:Gene) ON (n.eid);
CREATE INDEX index_Gene_biocyc_id IF NOT EXISTS FOR (n:Gene) ON (n.biocyc_id);
CREATE INDEX index_Gene_name IF NOT EXISTS FOR (n:Gene) ON (n.name);
CREATE INDEX index_RNA_eid IF NOT EXISTS FOR (n:RNA) ON (n.eid);
CREATE INDEX index_RNA_biocyc_id IF NOT EXISTS FOR (n:RNA) ON (n.biocyc_id);
CREATE INDEX index_RNA_name IF NOT EXISTS FOR (n:RNA) ON (n.name);
CREATE INDEX index_Protein_eid IF NOT EXISTS FOR (n:Protein) ON (n.eid);
CREATE INDEX index_Protein_biocyc_id IF NOT EXISTS FOR (n:Protein) ON (n.biocyc_id);
CREATE INDEX index_Protein_name IF NOT EXISTS FOR (n:Protein) ON (n.name);
CREATE INDEX index_Reaction_eid IF NOT EXISTS FOR (n:Reaction) ON (n.eid);
CREATE INDEX index_Reaction_biocyc_id IF NOT EXISTS FOR (n:Reaction) ON (n.biocyc_id);
CREATE INDEX index_Reaction_name IF NOT EXISTS FOR (n:Reaction) ON (n.name);
CREATE INDEX index_Pathway_eid IF NOT EXISTS FOR (n:Pathway) ON (n.eid);
CREATE INDEX index_Pathway_biocyc_id IF NOT EXISTS FOR (n:Pathway) ON (n.biocyc_id);
CREATE INDEX index_Pathway_name IF NOT EXISTS FOR (n:Pathway) ON (n.name);
CREATE INDEX index_EnzReaction_eid IF NOT EXISTS FOR (n:EnzReaction) ON (n.eid);
CREATE INDEX index_EnzReaction_biocyc_id IF NOT EXISTS FOR (n:EnzReaction) ON (n.biocyc_id);
CREATE INDEX index_EnzReaction_name IF NOT EXISTS FOR (n:EnzReaction) ON (n.name);
CREATE INDEX index_Regulation_eid IF NOT EXISTS FOR (n:Regulation) ON (n.eid);
CREATE INDEX index_Regulation_biocyc_id IF NOT EXISTS FOR (n:Regulation) ON (n.biocyc_id);
CREATE INDEX index_Regulation_name IF NOT EXISTS FOR (n:Regulation) ON (n.name);
    </sql>
  </changeSet>


  <changeSet id="load Species from HumanCyc-data-26.0.zip, date 09-07-2022" author="dommas">
    <comment>
        load BioCyc Species.tsv from HumanCyc-data-26.0.zip, 1 rows
    </comment>
    <customChange
      class="edu.ucsd.sbrg.ZipFileQueryHandler"
      query="
      UNWIND $rows as row
MERGE (n:db_BioCyc {eid: row.eid})
SET n:Species:db_HumanCyc,n.biocyc_id=row.biocyc_id,n.name=row.name,n.genome=row.genome,n.tax_id=row.tax_id,n.data_source='BioCyc'
      "
      fileName="Species.tsv"
      zipFileName="HumanCyc-data-26.0.zip"
      startAt="1" 
      neo4jHost="${neo4jHost}"
      neo4jCredentials="${neo4jCredentials}"
      neo4jDatabase="${neo4jDatabase}"
      localSaveFileDir="${localSaveFileDir}"

    />
  </changeSet>


  <changeSet id="load BioCycClass from HumanCyc-data-26.0.zip, date 09-07-2022" author="dommas">
    <comment>
        load BioCyc BioCycClass.tsv from HumanCyc-data-26.0.zip, 4938 rows
    </comment>
    <customChange
      class="edu.ucsd.sbrg.ZipFileQueryHandler"
      query="
      UNWIND $rows as row
MERGE (n:db_BioCyc {eid: row.eid})
SET n:BioCycClass:db_HumanCyc,n.biocyc_id=row.biocyc_id,n.name=row.name,n.url=row.url,n.data_source='BioCyc'
      "
      fileName="BioCycClass.tsv"
      zipFileName="HumanCyc-data-26.0.zip"
      startAt="1" 
      neo4jHost="${neo4jHost}"
      neo4jCredentials="${neo4jCredentials}"
      neo4jDatabase="${neo4jDatabase}"
      localSaveFileDir="${localSaveFileDir}"

    />
  </changeSet>


  <changeSet id="load Compound from HumanCyc-data-26.0.zip, date 09-07-2022" author="dommas">
    <comment>
        load BioCyc Compound.tsv from HumanCyc-data-26.0.zip, 4263 rows
    </comment>
    <customChange
      class="edu.ucsd.sbrg.ZipFileQueryHandler"
      query="
      UNWIND $rows as row
MERGE (n:db_BioCyc {eid: row.eid})
SET n:Compound:db_HumanCyc,n.biocyc_id=row.biocyc_id,n.name=row.name,n.abbrev_name=row.abbrev_name,n.url=row.url,n.inchi_key=row.inchi_key,n.inchi=row.inchi,n.smiles=row.smiles,n.data_source='BioCyc'
      "
      fileName="Compound.tsv"
      zipFileName="HumanCyc-data-26.0.zip"
      startAt="1" 
      neo4jHost="${neo4jHost}"
      neo4jCredentials="${neo4jCredentials}"
      neo4jDatabase="${neo4jDatabase}"
      localSaveFileDir="${localSaveFileDir}"

    />
  </changeSet>


  <changeSet id="load Gene from HumanCyc-data-26.0.zip, date 09-07-2022" author="dommas">
    <comment>
        load BioCyc Gene.tsv from HumanCyc-data-26.0.zip, 20997 rows
    </comment>
    <customChange
      class="edu.ucsd.sbrg.ZipFileQueryHandler"
      query="
      UNWIND $rows as row
MERGE (n:db_BioCyc {eid: row.eid})
SET n:Gene:db_HumanCyc,n.biocyc_id=row.biocyc_id,n.name=row.name,n.accession=row.accession,n.url=row.url,n.accession2=row.accession2,n.left_end_position=row.left_end_position,n.right_end_position=row.right_end_position,n.strand=row.strand,n.data_source='BioCyc'
      "
      fileName="Gene.tsv"
      zipFileName="HumanCyc-data-26.0.zip"
      startAt="1" 
      neo4jHost="${neo4jHost}"
      neo4jCredentials="${neo4jCredentials}"
      neo4jDatabase="${neo4jDatabase}"
      localSaveFileDir="${localSaveFileDir}"

    />
  </changeSet>


  <changeSet id="load RNA from HumanCyc-data-26.0.zip, date 09-07-2022" author="dommas">
    <comment>
        load BioCyc RNA.tsv from HumanCyc-data-26.0.zip, 255 rows
    </comment>
    <customChange
      class="edu.ucsd.sbrg.ZipFileQueryHandler"
      query="
      UNWIND $rows as row
MERGE (n:db_BioCyc {eid: row.eid})
SET n:RNA:db_HumanCyc,n.biocyc_id=row.biocyc_id,n.name=row.name,n.url=row.url,n.location=row.location,n.data_source='BioCyc'
      "
      fileName="RNA.tsv"
      zipFileName="HumanCyc-data-26.0.zip"
      startAt="1" 
      neo4jHost="${neo4jHost}"
      neo4jCredentials="${neo4jCredentials}"
      neo4jDatabase="${neo4jDatabase}"
      localSaveFileDir="${localSaveFileDir}"

    />
  </changeSet>


  <changeSet id="load Protein from HumanCyc-data-26.0.zip, date 09-07-2022" author="dommas">
    <comment>
        load BioCyc Protein.tsv from HumanCyc-data-26.0.zip, 21275 rows
    </comment>
    <customChange
      class="edu.ucsd.sbrg.ZipFileQueryHandler"
      query="
      UNWIND $rows as row
MERGE (n:db_BioCyc {eid: row.eid})
SET n:Protein:db_HumanCyc,n.biocyc_id=row.biocyc_id,n.name=row.name,n.abbrev_name=row.abbrev_name,n.url=row.url,n.molecular_weight_kd=row.molecular_weight_kd,n.pi=row.pi,n.data_source='BioCyc'
      "
      fileName="Protein.tsv"
      zipFileName="HumanCyc-data-26.0.zip"
      startAt="1" 
      neo4jHost="${neo4jHost}"
      neo4jCredentials="${neo4jCredentials}"
      neo4jDatabase="${neo4jDatabase}"
      localSaveFileDir="${localSaveFileDir}"

    />
  </changeSet>


  <changeSet id="load Reaction from HumanCyc-data-26.0.zip, date 09-07-2022" author="dommas">
    <comment>
        load BioCyc Reaction.tsv from HumanCyc-data-26.0.zip, 3066 rows
    </comment>
    <customChange
      class="edu.ucsd.sbrg.ZipFileQueryHandler"
      query="
      UNWIND $rows as row
MERGE (n:db_BioCyc {eid: row.eid})
SET n:Reaction:db_HumanCyc,n.biocyc_id=row.biocyc_id,n.name=row.name,n.ec_number=row.ec_number,n.url=row.url,n.direction=row.direction,n.location=row.location,n.data_source='BioCyc'
      "
      fileName="Reaction.tsv"
      zipFileName="HumanCyc-data-26.0.zip"
      startAt="1" 
      neo4jHost="${neo4jHost}"
      neo4jCredentials="${neo4jCredentials}"
      neo4jDatabase="${neo4jDatabase}"
      localSaveFileDir="${localSaveFileDir}"

    />
  </changeSet>


  <changeSet id="load Pathway from HumanCyc-data-26.0.zip, date 09-07-2022" author="dommas">
    <comment>
        load BioCyc Pathway.tsv from HumanCyc-data-26.0.zip, 394 rows
    </comment>
    <customChange
      class="edu.ucsd.sbrg.ZipFileQueryHandler"
      query="
      UNWIND $rows as row
MERGE (n:db_BioCyc {eid: row.eid})
SET n:Pathway:db_HumanCyc,n.biocyc_id=row.biocyc_id,n.name=row.name,n.url=row.url,n.data_source='BioCyc'
      "
      fileName="Pathway.tsv"
      zipFileName="HumanCyc-data-26.0.zip"
      startAt="1" 
      neo4jHost="${neo4jHost}"
      neo4jCredentials="${neo4jCredentials}"
      neo4jDatabase="${neo4jDatabase}"
      localSaveFileDir="${localSaveFileDir}"

    />
  </changeSet>


  <changeSet id="load EnzReaction from HumanCyc-data-26.0.zip, date 09-07-2022" author="dommas">
    <comment>
        load BioCyc EnzReaction.tsv from HumanCyc-data-26.0.zip, 5491 rows
    </comment>
    <customChange
      class="edu.ucsd.sbrg.ZipFileQueryHandler"
      query="
      UNWIND $rows as row
MERGE (n:db_BioCyc {eid: row.eid})
SET n:EnzReaction:db_HumanCyc,n.biocyc_id=row.biocyc_id,n.name=row.name,n.url=row.url,n.data_source='BioCyc'
      "
      fileName="EnzReaction.tsv"
      zipFileName="HumanCyc-data-26.0.zip"
      startAt="1" 
      neo4jHost="${neo4jHost}"
      neo4jCredentials="${neo4jCredentials}"
      neo4jDatabase="${neo4jDatabase}"
      localSaveFileDir="${localSaveFileDir}"

    />
  </changeSet>


  <changeSet id="load Regulation from HumanCyc-data-26.0.zip, date 09-07-2022" author="dommas">
    <comment>
        load BioCyc Regulation.tsv from HumanCyc-data-26.0.zip, 452 rows
    </comment>
    <customChange
      class="edu.ucsd.sbrg.ZipFileQueryHandler"
      query="
      UNWIND $rows as row
MERGE (n:db_BioCyc {eid: row.eid})
SET n:Regulation:db_HumanCyc,n.biocyc_id=row.biocyc_id,n.mode=row.mode,n.mechanism=row.mechanism,n.data_source='BioCyc'
      "
      fileName="Regulation.tsv"
      zipFileName="HumanCyc-data-26.0.zip"
      startAt="1" 
      neo4jHost="${neo4jHost}"
      neo4jCredentials="${neo4jCredentials}"
      neo4jDatabase="${neo4jDatabase}"
      localSaveFileDir="${localSaveFileDir}"

    />
  </changeSet>


  <changeSet id="load Species synonyms from HumanCyc-data-26.0.zip, date 09-07-2022" author="dommas">
    <comment>
        Load BioCyc Species-synonyms.tsv from HumanCyc-data-26.0.zip
    </comment>
    <customChange
      class="edu.ucsd.sbrg.ZipFileQueryHandler"
      query="
      UNWIND $rows AS row
MERGE (a:Synonym {name: row.name}) SET a.lowercase_name=toLower(row.name)
WITH row, a MATCH (b:Species {eid: row.eid})
MERGE (b)-[r:HAS_SYNONYM]->(a)
      "
      fileName="Species-synonyms.tsv"
      zipFileName="HumanCyc-data-26.0.zip"
      startAt="1" 
      neo4jHost="${neo4jHost}"
      neo4jCredentials="${neo4jCredentials}"
      neo4jDatabase="${neo4jDatabase}"
      localSaveFileDir="${localSaveFileDir}"

    />
  </changeSet>


  <changeSet id="load BioCycClass synonyms from HumanCyc-data-26.0.zip, date 09-07-2022" author="dommas">
    <comment>
        Load BioCyc BioCycClass-synonyms.tsv from HumanCyc-data-26.0.zip
    </comment>
    <customChange
      class="edu.ucsd.sbrg.ZipFileQueryHandler"
      query="
      UNWIND $rows AS row
MERGE (a:Synonym {name: row.name}) SET a.lowercase_name=toLower(row.name)
WITH row, a MATCH (b:BioCycClass {eid: row.eid})
MERGE (b)-[r:HAS_SYNONYM]->(a)
      "
      fileName="BioCycClass-synonyms.tsv"
      zipFileName="HumanCyc-data-26.0.zip"
      startAt="1" 
      neo4jHost="${neo4jHost}"
      neo4jCredentials="${neo4jCredentials}"
      neo4jDatabase="${neo4jDatabase}"
      localSaveFileDir="${localSaveFileDir}"

    />
  </changeSet>


  <changeSet id="load Compound synonyms from HumanCyc-data-26.0.zip, date 09-07-2022" author="dommas">
    <comment>
        Load BioCyc Compound-synonyms.tsv from HumanCyc-data-26.0.zip
    </comment>
    <customChange
      class="edu.ucsd.sbrg.ZipFileQueryHandler"
      query="
      UNWIND $rows AS row
MERGE (a:Synonym {name: row.name}) SET a.lowercase_name=toLower(row.name)
WITH row, a MATCH (b:Compound {eid: row.eid})
MERGE (b)-[r:HAS_SYNONYM]->(a)
      "
      fileName="Compound-synonyms.tsv"
      zipFileName="HumanCyc-data-26.0.zip"
      startAt="1" 
      neo4jHost="${neo4jHost}"
      neo4jCredentials="${neo4jCredentials}"
      neo4jDatabase="${neo4jDatabase}"
      localSaveFileDir="${localSaveFileDir}"

    />
  </changeSet>


  <changeSet id="load Gene synonyms from HumanCyc-data-26.0.zip, date 09-07-2022" author="dommas">
    <comment>
        Load BioCyc Gene-synonyms.tsv from HumanCyc-data-26.0.zip
    </comment>
    <customChange
      class="edu.ucsd.sbrg.ZipFileQueryHandler"
      query="
      UNWIND $rows AS row
MERGE (a:Synonym {name: row.name}) SET a.lowercase_name=toLower(row.name)
WITH row, a MATCH (b:Gene {eid: row.eid})
MERGE (b)-[r:HAS_SYNONYM]->(a)
      "
      fileName="Gene-synonyms.tsv"
      zipFileName="HumanCyc-data-26.0.zip"
      startAt="1" 
      neo4jHost="${neo4jHost}"
      neo4jCredentials="${neo4jCredentials}"
      neo4jDatabase="${neo4jDatabase}"
      localSaveFileDir="${localSaveFileDir}"

    />
  </changeSet>


  <changeSet id="load Protein synonyms from HumanCyc-data-26.0.zip, date 09-07-2022" author="dommas">
    <comment>
        Load BioCyc Protein-synonyms.tsv from HumanCyc-data-26.0.zip
    </comment>
    <customChange
      class="edu.ucsd.sbrg.ZipFileQueryHandler"
      query="
      UNWIND $rows AS row
MERGE (a:Synonym {name: row.name}) SET a.lowercase_name=toLower(row.name)
WITH row, a MATCH (b:Protein {eid: row.eid})
MERGE (b)-[r:HAS_SYNONYM]->(a)
      "
      fileName="Protein-synonyms.tsv"
      zipFileName="HumanCyc-data-26.0.zip"
      startAt="1" 
      neo4jHost="${neo4jHost}"
      neo4jCredentials="${neo4jCredentials}"
      neo4jDatabase="${neo4jDatabase}"
      localSaveFileDir="${localSaveFileDir}"

    />
  </changeSet>


  <changeSet id="load Reaction synonyms from HumanCyc-data-26.0.zip, date 09-07-2022" author="dommas">
    <comment>
        Load BioCyc Reaction-synonyms.tsv from HumanCyc-data-26.0.zip
    </comment>
    <customChange
      class="edu.ucsd.sbrg.ZipFileQueryHandler"
      query="
      UNWIND $rows AS row
MERGE (a:Synonym {name: row.name}) SET a.lowercase_name=toLower(row.name)
WITH row, a MATCH (b:Reaction {eid: row.eid})
MERGE (b)-[r:HAS_SYNONYM]->(a)
      "
      fileName="Reaction-synonyms.tsv"
      zipFileName="HumanCyc-data-26.0.zip"
      startAt="1" 
      neo4jHost="${neo4jHost}"
      neo4jCredentials="${neo4jCredentials}"
      neo4jDatabase="${neo4jDatabase}"
      localSaveFileDir="${localSaveFileDir}"

    />
  </changeSet>


  <changeSet id="load Pathway synonyms from HumanCyc-data-26.0.zip, date 09-07-2022" author="dommas">
    <comment>
        Load BioCyc Pathway-synonyms.tsv from HumanCyc-data-26.0.zip
    </comment>
    <customChange
      class="edu.ucsd.sbrg.ZipFileQueryHandler"
      query="
      UNWIND $rows AS row
MERGE (a:Synonym {name: row.name}) SET a.lowercase_name=toLower(row.name)
WITH row, a MATCH (b:Pathway {eid: row.eid})
MERGE (b)-[r:HAS_SYNONYM]->(a)
      "
      fileName="Pathway-synonyms.tsv"
      zipFileName="HumanCyc-data-26.0.zip"
      startAt="1" 
      neo4jHost="${neo4jHost}"
      neo4jCredentials="${neo4jCredentials}"
      neo4jDatabase="${neo4jDatabase}"
      localSaveFileDir="${localSaveFileDir}"

    />
  </changeSet>


  <changeSet id="load TYPE_OF relationship in BioCycClass-rels.tsv from HumanCyc-data-26.0.zip, date 09-07-2022" author="dommas">
    <comment>
        Load BioCyc TYPE_OF relationships, BioCycClass-rels.tsv from HumanCyc-data-26.0.zip
    </comment>
    <customChange
      class="edu.ucsd.sbrg.ZipFileQueryHandler"
      query="
      UNWIND $rows AS row
with row where row.RELATIONSHIP='TYPE_OF'
MATCH (a:db_BioCyc {eid: row.from_id}), (b:db_BioCyc {eid: row.to_id})
MERGE (a)-[r:TYPE_OF]->(b)
RETURN COUNT(*)
      "
      fileName="BioCycClass-rels.tsv"
      zipFileName="HumanCyc-data-26.0.zip"
      startAt="1" 
      neo4jHost="${neo4jHost}"
      neo4jCredentials="${neo4jCredentials}"
      neo4jDatabase="${neo4jDatabase}"
      localSaveFileDir="${localSaveFileDir}"

    />
  </changeSet>


  <changeSet id="load TYPE_OF relationship in Compound-rels.tsv from HumanCyc-data-26.0.zip, date 09-07-2022" author="dommas">
    <comment>
        Load BioCyc TYPE_OF relationships, Compound-rels.tsv from HumanCyc-data-26.0.zip
    </comment>
    <customChange
      class="edu.ucsd.sbrg.ZipFileQueryHandler"
      query="
      UNWIND $rows AS row
with row where row.RELATIONSHIP='TYPE_OF'
MATCH (a:db_BioCyc {eid: row.from_id}), (b:db_BioCyc {eid: row.to_id})
MERGE (a)-[r:TYPE_OF]->(b)
RETURN COUNT(*)
      "
      fileName="Compound-rels.tsv"
      zipFileName="HumanCyc-data-26.0.zip"
      startAt="1" 
      neo4jHost="${neo4jHost}"
      neo4jCredentials="${neo4jCredentials}"
      neo4jDatabase="${neo4jDatabase}"
      localSaveFileDir="${localSaveFileDir}"

    />
  </changeSet>


  <changeSet id="load Compound CHEBI_LINK from HumanCyc-data-26.0.zip, date 09-07-2022" author="dommas">
    <comment>
        Load Compound CHEBI_LINK: Compound-dblinks.tsv from HumanCyc-data-26.0.zip
    </comment>
    <customChange
      class="edu.ucsd.sbrg.ZipFileQueryHandler"
      query="
      UNWIND $rows AS row
with row where row.db_name='CHEBI'
MATCH (a:db_BioCyc {eid: row.from_id}), (b:db_CHEBI {eid: row.to_id})
MERGE (a)-[r:CHEBI_LINK]->(b)
RETURN COUNT(*)
      "
      fileName="Compound-dblinks.tsv"
      zipFileName="HumanCyc-data-26.0.zip"
      startAt="1" 
      neo4jHost="${neo4jHost}"
      neo4jCredentials="${neo4jCredentials}"
      neo4jDatabase="${neo4jDatabase}"
      localSaveFileDir="${localSaveFileDir}"

    />
  </changeSet>


  <changeSet id="load TYPE_OF relationship in RNA-rels.tsv from HumanCyc-data-26.0.zip, date 09-07-2022" author="dommas">
    <comment>
        Load BioCyc TYPE_OF relationships, RNA-rels.tsv from HumanCyc-data-26.0.zip
    </comment>
    <customChange
      class="edu.ucsd.sbrg.ZipFileQueryHandler"
      query="
      UNWIND $rows AS row
with row where row.RELATIONSHIP='TYPE_OF'
MATCH (a:db_BioCyc {eid: row.from_id}), (b:db_BioCyc {eid: row.to_id})
MERGE (a)-[r:TYPE_OF]->(b)
RETURN COUNT(*)
      "
      fileName="RNA-rels.tsv"
      zipFileName="HumanCyc-data-26.0.zip"
      startAt="1" 
      neo4jHost="${neo4jHost}"
      neo4jCredentials="${neo4jCredentials}"
      neo4jDatabase="${neo4jDatabase}"
      localSaveFileDir="${localSaveFileDir}"

    />
  </changeSet>


  <changeSet id="load ENCODES relationship in RNA-rels.tsv from HumanCyc-data-26.0.zip, date 09-07-2022" author="dommas">
    <comment>
        Load BioCyc ENCODES relationships, RNA-rels.tsv from HumanCyc-data-26.0.zip
    </comment>
    <customChange
      class="edu.ucsd.sbrg.ZipFileQueryHandler"
      query="
      UNWIND $rows AS row
with row where row.RELATIONSHIP='ENCODES'
MATCH (a:db_BioCyc {eid: row.from_id}), (b:db_BioCyc {eid: row.to_id})
MERGE (a)-[r:ENCODES]->(b)
RETURN COUNT(*)
      "
      fileName="RNA-rels.tsv"
      zipFileName="HumanCyc-data-26.0.zip"
      startAt="1" 
      neo4jHost="${neo4jHost}"
      neo4jCredentials="${neo4jCredentials}"
      neo4jDatabase="${neo4jDatabase}"
      localSaveFileDir="${localSaveFileDir}"

    />
  </changeSet>


  <changeSet id="load MODIFIED_TO relationship in RNA-rels.tsv from HumanCyc-data-26.0.zip, date 09-07-2022" author="dommas">
    <comment>
        Load BioCyc MODIFIED_TO relationships, RNA-rels.tsv from HumanCyc-data-26.0.zip
    </comment>
    <customChange
      class="edu.ucsd.sbrg.ZipFileQueryHandler"
      query="
      UNWIND $rows AS row
with row where row.RELATIONSHIP='MODIFIED_TO'
MATCH (a:db_BioCyc {eid: row.from_id}), (b:db_BioCyc {eid: row.to_id})
MERGE (a)-[r:MODIFIED_TO]->(b)
RETURN COUNT(*)
      "
      fileName="RNA-rels.tsv"
      zipFileName="HumanCyc-data-26.0.zip"
      startAt="1" 
      neo4jHost="${neo4jHost}"
      neo4jCredentials="${neo4jCredentials}"
      neo4jDatabase="${neo4jDatabase}"
      localSaveFileDir="${localSaveFileDir}"

    />
  </changeSet>


  <changeSet id="load ENCODES relationship in Protein-rels.tsv from HumanCyc-data-26.0.zip, date 09-07-2022" author="dommas">
    <comment>
        Load BioCyc ENCODES relationships, Protein-rels.tsv from HumanCyc-data-26.0.zip
    </comment>
    <customChange
      class="edu.ucsd.sbrg.ZipFileQueryHandler"
      query="
      UNWIND $rows AS row
with row where row.RELATIONSHIP='ENCODES'
MATCH (a:db_BioCyc {eid: row.from_id}), (b:db_BioCyc {eid: row.to_id})
MERGE (a)-[r:ENCODES]->(b)
RETURN COUNT(*)
      "
      fileName="Protein-rels.tsv"
      zipFileName="HumanCyc-data-26.0.zip"
      startAt="1" 
      neo4jHost="${neo4jHost}"
      neo4jCredentials="${neo4jCredentials}"
      neo4jDatabase="${neo4jDatabase}"
      localSaveFileDir="${localSaveFileDir}"

    />
  </changeSet>


  <changeSet id="load MODIFIED_TO relationship in Protein-rels.tsv from HumanCyc-data-26.0.zip, date 09-07-2022" author="dommas">
    <comment>
        Load BioCyc MODIFIED_TO relationships, Protein-rels.tsv from HumanCyc-data-26.0.zip
    </comment>
    <customChange
      class="edu.ucsd.sbrg.ZipFileQueryHandler"
      query="
      UNWIND $rows AS row
with row where row.RELATIONSHIP='MODIFIED_TO'
MATCH (a:db_BioCyc {eid: row.from_id}), (b:db_BioCyc {eid: row.to_id})
MERGE (a)-[r:MODIFIED_TO]->(b)
RETURN COUNT(*)
      "
      fileName="Protein-rels.tsv"
      zipFileName="HumanCyc-data-26.0.zip"
      startAt="1" 
      neo4jHost="${neo4jHost}"
      neo4jCredentials="${neo4jCredentials}"
      neo4jDatabase="${neo4jDatabase}"
      localSaveFileDir="${localSaveFileDir}"

    />
  </changeSet>


  <changeSet id="load TYPE_OF relationship in Protein-rels.tsv from HumanCyc-data-26.0.zip, date 09-07-2022" author="dommas">
    <comment>
        Load BioCyc TYPE_OF relationships, Protein-rels.tsv from HumanCyc-data-26.0.zip
    </comment>
    <customChange
      class="edu.ucsd.sbrg.ZipFileQueryHandler"
      query="
      UNWIND $rows AS row
with row where row.RELATIONSHIP='TYPE_OF'
MATCH (a:db_BioCyc {eid: row.from_id}), (b:db_BioCyc {eid: row.to_id})
MERGE (a)-[r:TYPE_OF]->(b)
RETURN COUNT(*)
      "
      fileName="Protein-rels.tsv"
      zipFileName="HumanCyc-data-26.0.zip"
      startAt="1" 
      neo4jHost="${neo4jHost}"
      neo4jCredentials="${neo4jCredentials}"
      neo4jDatabase="${neo4jDatabase}"
      localSaveFileDir="${localSaveFileDir}"

    />
  </changeSet>


  <changeSet id="load COMPONENT_OF relationship in Protein-rels.tsv from HumanCyc-data-26.0.zip, date 09-07-2022" author="dommas">
    <comment>
        Load BioCyc COMPONENT_OF relationships, Protein-rels.tsv from HumanCyc-data-26.0.zip
    </comment>
    <customChange
      class="edu.ucsd.sbrg.ZipFileQueryHandler"
      query="
      UNWIND $rows AS row
with row where row.RELATIONSHIP='COMPONENT_OF'
MATCH (a:db_BioCyc {eid: row.from_id}), (b:db_BioCyc {eid: row.to_id})
MERGE (a)-[r:COMPONENT_OF]->(b)
RETURN COUNT(*)
      "
      fileName="Protein-rels.tsv"
      zipFileName="HumanCyc-data-26.0.zip"
      startAt="1" 
      neo4jHost="${neo4jHost}"
      neo4jCredentials="${neo4jCredentials}"
      neo4jDatabase="${neo4jDatabase}"
      localSaveFileDir="${localSaveFileDir}"

    />
  </changeSet>


  <changeSet id="load Protein GO_LINK from HumanCyc-data-26.0.zip, date 09-07-2022" author="dommas">
    <comment>
        Load Protein GO_LINK: Protein-dblinks.tsv from HumanCyc-data-26.0.zip
    </comment>
    <customChange
      class="edu.ucsd.sbrg.ZipFileQueryHandler"
      query="
      UNWIND $rows AS row
with row where row.db_name='GO'
MATCH (a:db_BioCyc {eid: row.from_id}), (b:db_GO {eid: row.to_id})
MERGE (a)-[r:GO_LINK]->(b)
RETURN COUNT(*)
      "
      fileName="Protein-dblinks.tsv"
      zipFileName="HumanCyc-data-26.0.zip"
      startAt="1" 
      neo4jHost="${neo4jHost}"
      neo4jCredentials="${neo4jCredentials}"
      neo4jDatabase="${neo4jDatabase}"
      localSaveFileDir="${localSaveFileDir}"

    />
  </changeSet>


  <changeSet id="load TYPE_OF relationship in Reaction-rels.tsv from HumanCyc-data-26.0.zip, date 09-07-2022" author="dommas">
    <comment>
        Load BioCyc TYPE_OF relationships, Reaction-rels.tsv from HumanCyc-data-26.0.zip
    </comment>
    <customChange
      class="edu.ucsd.sbrg.ZipFileQueryHandler"
      query="
      UNWIND $rows AS row
with row where row.RELATIONSHIP='TYPE_OF'
MATCH (a:db_BioCyc {eid: row.from_id}), (b:db_BioCyc {eid: row.to_id})
MERGE (a)-[r:TYPE_OF]->(b)
RETURN COUNT(*)
      "
      fileName="Reaction-rels.tsv"
      zipFileName="HumanCyc-data-26.0.zip"
      startAt="1" 
      neo4jHost="${neo4jHost}"
      neo4jCredentials="${neo4jCredentials}"
      neo4jDatabase="${neo4jDatabase}"
      localSaveFileDir="${localSaveFileDir}"

    />
  </changeSet>


  <changeSet id="load CONSUMED_BY relationship in Reaction-rels.tsv from HumanCyc-data-26.0.zip, date 09-07-2022" author="dommas">
    <comment>
        Load BioCyc CONSUMED_BY relationships, Reaction-rels.tsv from HumanCyc-data-26.0.zip
    </comment>
    <customChange
      class="edu.ucsd.sbrg.ZipFileQueryHandler"
      query="
      UNWIND $rows AS row
with row where row.RELATIONSHIP='CONSUMED_BY'
MATCH (a:db_BioCyc {eid: row.from_id}), (b:db_BioCyc {eid: row.to_id})
MERGE (a)-[r:CONSUMED_BY]->(b)
RETURN COUNT(*)
      "
      fileName="Reaction-rels.tsv"
      zipFileName="HumanCyc-data-26.0.zip"
      startAt="1" 
      neo4jHost="${neo4jHost}"
      neo4jCredentials="${neo4jCredentials}"
      neo4jDatabase="${neo4jDatabase}"
      localSaveFileDir="${localSaveFileDir}"

    />
  </changeSet>


  <changeSet id="load PRODUCES relationship in Reaction-rels.tsv from HumanCyc-data-26.0.zip, date 09-07-2022" author="dommas">
    <comment>
        Load BioCyc PRODUCES relationships, Reaction-rels.tsv from HumanCyc-data-26.0.zip
    </comment>
    <customChange
      class="edu.ucsd.sbrg.ZipFileQueryHandler"
      query="
      UNWIND $rows AS row
with row where row.RELATIONSHIP='PRODUCES'
MATCH (a:db_BioCyc {eid: row.from_id}), (b:db_BioCyc {eid: row.to_id})
MERGE (a)-[r:PRODUCES]->(b)
RETURN COUNT(*)
      "
      fileName="Reaction-rels.tsv"
      zipFileName="HumanCyc-data-26.0.zip"
      startAt="1" 
      neo4jHost="${neo4jHost}"
      neo4jCredentials="${neo4jCredentials}"
      neo4jDatabase="${neo4jDatabase}"
      localSaveFileDir="${localSaveFileDir}"

    />
  </changeSet>


  <changeSet id="load Reaction ENZYME_LINK from HumanCyc-data-26.0.zip, date 09-07-2022" author="dommas">
    <comment>
        Load Reaction ENZYME_LINK: Reaction-dblinks.tsv from HumanCyc-data-26.0.zip
    </comment>
    <customChange
      class="edu.ucsd.sbrg.ZipFileQueryHandler"
      query="
      UNWIND $rows AS row
with row where row.db_name='Enzyme'
MATCH (a:db_BioCyc {eid: row.from_id}), (b:db_Enzyme {eid: row.to_id})
MERGE (a)-[r:ENZYME_LINK]->(b)
RETURN COUNT(*)
      "
      fileName="Reaction-dblinks.tsv"
      zipFileName="HumanCyc-data-26.0.zip"
      startAt="1" 
      neo4jHost="${neo4jHost}"
      neo4jCredentials="${neo4jCredentials}"
      neo4jDatabase="${neo4jDatabase}"
      localSaveFileDir="${localSaveFileDir}"

    />
  </changeSet>


  <changeSet id="load TYPE_OF relationship in Pathway-rels.tsv from HumanCyc-data-26.0.zip, date 09-07-2022" author="dommas">
    <comment>
        Load BioCyc TYPE_OF relationships, Pathway-rels.tsv from HumanCyc-data-26.0.zip
    </comment>
    <customChange
      class="edu.ucsd.sbrg.ZipFileQueryHandler"
      query="
      UNWIND $rows AS row
with row where row.RELATIONSHIP='TYPE_OF'
MATCH (a:db_BioCyc {eid: row.from_id}), (b:db_BioCyc {eid: row.to_id})
MERGE (a)-[r:TYPE_OF]->(b)
RETURN COUNT(*)
      "
      fileName="Pathway-rels.tsv"
      zipFileName="HumanCyc-data-26.0.zip"
      startAt="1" 
      neo4jHost="${neo4jHost}"
      neo4jCredentials="${neo4jCredentials}"
      neo4jDatabase="${neo4jDatabase}"
      localSaveFileDir="${localSaveFileDir}"

    />
  </changeSet>


  <changeSet id="load IN_PATHWAY relationship in Pathway-rels.tsv from HumanCyc-data-26.0.zip, date 09-07-2022" author="dommas">
    <comment>
        Load BioCyc IN_PATHWAY relationships, Pathway-rels.tsv from HumanCyc-data-26.0.zip
    </comment>
    <customChange
      class="edu.ucsd.sbrg.ZipFileQueryHandler"
      query="
      UNWIND $rows AS row
with row where row.RELATIONSHIP='IN_PATHWAY'
MATCH (a:db_BioCyc {eid: row.from_id}), (b:db_BioCyc {eid: row.to_id})
MERGE (a)-[r:IN_PATHWAY]->(b)
RETURN COUNT(*)
      "
      fileName="Pathway-rels.tsv"
      zipFileName="HumanCyc-data-26.0.zip"
      startAt="1" 
      neo4jHost="${neo4jHost}"
      neo4jCredentials="${neo4jCredentials}"
      neo4jDatabase="${neo4jDatabase}"
      localSaveFileDir="${localSaveFileDir}"

    />
  </changeSet>


  <changeSet id="load CATALYZES relationship in EnzReaction-rels.tsv from HumanCyc-data-26.0.zip, date 09-07-2022" author="dommas">
    <comment>
        Load BioCyc CATALYZES relationships, EnzReaction-rels.tsv from HumanCyc-data-26.0.zip
    </comment>
    <customChange
      class="edu.ucsd.sbrg.ZipFileQueryHandler"
      query="
      UNWIND $rows AS row
with row where row.RELATIONSHIP='CATALYZES'
MATCH (a:db_BioCyc {eid: row.from_id}), (b:db_BioCyc {eid: row.to_id})
MERGE (a)-[r:CATALYZES]->(b)
RETURN COUNT(*)
      "
      fileName="EnzReaction-rels.tsv"
      zipFileName="HumanCyc-data-26.0.zip"
      startAt="1" 
      neo4jHost="${neo4jHost}"
      neo4jCredentials="${neo4jCredentials}"
      neo4jDatabase="${neo4jDatabase}"
      localSaveFileDir="${localSaveFileDir}"

    />
  </changeSet>


  <changeSet id="load REGULATES relationship in EnzReaction-rels.tsv from HumanCyc-data-26.0.zip, date 09-07-2022" author="dommas">
    <comment>
        Load BioCyc REGULATES relationships, EnzReaction-rels.tsv from HumanCyc-data-26.0.zip
    </comment>
    <customChange
      class="edu.ucsd.sbrg.ZipFileQueryHandler"
      query="
      UNWIND $rows AS row
with row where row.RELATIONSHIP='REGULATES'
MATCH (a:db_BioCyc {eid: row.from_id}), (b:db_BioCyc {eid: row.to_id})
MERGE (a)-[r:REGULATES]->(b)
RETURN COUNT(*)
      "
      fileName="EnzReaction-rels.tsv"
      zipFileName="HumanCyc-data-26.0.zip"
      startAt="1" 
      neo4jHost="${neo4jHost}"
      neo4jCredentials="${neo4jCredentials}"
      neo4jDatabase="${neo4jDatabase}"
      localSaveFileDir="${localSaveFileDir}"

    />
  </changeSet>


  <changeSet id="load HAS_COFACTOR relationship in EnzReaction-rels.tsv from HumanCyc-data-26.0.zip, date 09-07-2022" author="dommas">
    <comment>
        Load BioCyc HAS_COFACTOR relationships, EnzReaction-rels.tsv from HumanCyc-data-26.0.zip
    </comment>
    <customChange
      class="edu.ucsd.sbrg.ZipFileQueryHandler"
      query="
      UNWIND $rows AS row
with row where row.RELATIONSHIP='HAS_COFACTOR'
MATCH (a:db_BioCyc {eid: row.from_id}), (b:db_BioCyc {eid: row.to_id})
MERGE (a)-[r:HAS_COFACTOR]->(b)
RETURN COUNT(*)
      "
      fileName="EnzReaction-rels.tsv"
      zipFileName="HumanCyc-data-26.0.zip"
      startAt="1" 
      neo4jHost="${neo4jHost}"
      neo4jCredentials="${neo4jCredentials}"
      neo4jDatabase="${neo4jDatabase}"
      localSaveFileDir="${localSaveFileDir}"

    />
  </changeSet>


  <changeSet id="load TYPE_OF relationship in Regulation-rels.tsv from HumanCyc-data-26.0.zip, date 09-07-2022" author="dommas">
    <comment>
        Load BioCyc TYPE_OF relationships, Regulation-rels.tsv from HumanCyc-data-26.0.zip
    </comment>
    <customChange
      class="edu.ucsd.sbrg.ZipFileQueryHandler"
      query="
      UNWIND $rows AS row
with row where row.RELATIONSHIP='TYPE_OF'
MATCH (a:db_BioCyc {eid: row.from_id}), (b:db_BioCyc {eid: row.to_id})
MERGE (a)-[r:TYPE_OF]->(b)
RETURN COUNT(*)
      "
      fileName="Regulation-rels.tsv"
      zipFileName="HumanCyc-data-26.0.zip"
      startAt="1" 
      neo4jHost="${neo4jHost}"
      neo4jCredentials="${neo4jCredentials}"
      neo4jDatabase="${neo4jDatabase}"
      localSaveFileDir="${localSaveFileDir}"

    />
  </changeSet>


  <changeSet id="load REGULATES relationship in Regulation-rels.tsv from HumanCyc-data-26.0.zip, date 09-07-2022" author="dommas">
    <comment>
        Load BioCyc REGULATES relationships, Regulation-rels.tsv from HumanCyc-data-26.0.zip
    </comment>
    <customChange
      class="edu.ucsd.sbrg.ZipFileQueryHandler"
      query="
      UNWIND $rows AS row
with row where row.RELATIONSHIP='REGULATES'
MATCH (a:db_BioCyc {eid: row.from_id}), (b:db_BioCyc {eid: row.to_id})
MERGE (a)-[r:REGULATES]->(b)
RETURN COUNT(*)
      "
      fileName="Regulation-rels.tsv"
      zipFileName="HumanCyc-data-26.0.zip"
      startAt="1" 
      neo4jHost="${neo4jHost}"
      neo4jCredentials="${neo4jCredentials}"
      neo4jDatabase="${neo4jDatabase}"
      localSaveFileDir="${localSaveFileDir}"

    />
  </changeSet>

</databaseChangeLog>
